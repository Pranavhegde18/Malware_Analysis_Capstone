import random

def encrypt_code(code, key):
    encrypted_code = ""
    for char in code:
        if char.isalpha():
            encrypted_char = chr((ord(char) - ord('a') + key) % 26 + ord('a'))
        else:
            encrypted_char = char
        encrypted_code += encrypted_char
    return encrypted_code

def decrypt_code(encrypted_code, key):
    decrypted_code = ""
    for char in encrypted_code:
        if char.isalpha():
            decrypted_char = chr((ord(char) - ord('a') - key) % 26 + ord('a'))
        else:
            decrypted_char = char
        decrypted_code += decrypted_char
    return decrypted_code

# Example code to encrypt and decrypt
original_code = '''
def say_hello():
    print("Hello, World!")

say_hello()
'''

# Generate a random encryption key for each execution
encryption_key = random.randint(1, 25)

# Encrypt the code using Caesar cipher
encrypted_code = encrypt_code(original_code, encryption_key)

# Create the complete valid Python code with an entry point
encrypted_code_with_entry = f'''
import random

def decrypt_code(encrypted_code, key):
    decrypted_code = ""
    for char in encrypted_code:
        if char.isalpha():
            decrypted_char = chr((ord(char) - ord('a') - key) % 26 + ord('a'))
        else:
            decrypted_char = char
        decrypted_code += decrypted_char
    return decrypted_code

exec(decrypt_code("{encrypted_code}", {encryption_key}))
'''

# Compile the encrypted code into a code object
compiled_code = compile(encrypted_code_with_entry, '<string>', 'exec')

# Execute the compiled code
exec(compiled_code)
