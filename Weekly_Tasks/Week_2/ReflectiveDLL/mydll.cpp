#include <windows.h>
#include <stdio.h>

// Reflective DLL entry point
__declspec(dllexport) BOOL WINAPI ReflectiveDllMain(HINSTANCE hinstDLL, DWORD dwReason, LPVOID lpReserved)
{
    if (dwReason == DLL_PROCESS_ATTACH)
    {
        MessageBoxW(NULL, L"DLL Loaded!", L"DllMain", MB_OK);
    }
    else if (dwReason == DLL_PROCESS_DETACH)
    {
        MessageBoxW(NULL, L"DLL Unloaded!", L"DllMain", MB_OK);
    }

    return TRUE;
}

// Entry point for reflective DLL injection
__declspec(dllexport) BOOL WINAPI DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpReserved)
{
     // Call the reflective entry point
     return ReflectiveDllMain(hinstDLL, fdwReason, lpReserved);
}