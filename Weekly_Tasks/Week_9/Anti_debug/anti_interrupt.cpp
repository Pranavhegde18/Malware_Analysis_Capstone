#include <iostream>
#include <Windows.h>

// Function to check if the code is being executed in a debugger
bool IsDebuggerPresentCustom()
{
    if (IsDebuggerPresent())
    {
        DebugBreak(); // Trigger a breakpoint if a debugger is present
        return true;
    }

    return false;
}

int main()
{
    if (IsDebuggerPresentCustom())
    {
        std::cout << "Debugger detected" << std::endl;
        // Take appropriate action, such as exiting or altering behavior
    }
    else
    {
        std::cout << "No debugger detected" << std::endl;
        // Continue with normal execution
    }

    return 0;
}
